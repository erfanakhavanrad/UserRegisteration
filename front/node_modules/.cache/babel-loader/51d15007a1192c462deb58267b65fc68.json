{"remainingRequest":"/Users/aryanmostafavi/Desktop/project/uni-form/SalesManRoute/node_modules/babel-loader/lib/index.js!/Users/aryanmostafavi/Desktop/project/uni-form/SalesManRoute/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/aryanmostafavi/Desktop/project/uni-form/SalesManRoute/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/aryanmostafavi/Desktop/project/uni-form/SalesManRoute/node_modules/particles-bg-vue/src/particles-bg/particles/TadpoleParticles.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/aryanmostafavi/Desktop/project/uni-form/SalesManRoute/node_modules/particles-bg-vue/src/particles-bg/particles/TadpoleParticles.vue","mtime":499162500000},{"path":"/Users/aryanmostafavi/Desktop/project/uni-form/SalesManRoute/babel.config.js","mtime":1681761512392},{"path":"/Users/aryanmostafavi/Desktop/project/uni-form/SalesManRoute/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/aryanmostafavi/Desktop/project/uni-form/SalesManRoute/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/aryanmostafavi/Desktop/project/uni-form/SalesManRoute/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/aryanmostafavi/Desktop/project/uni-form/SalesManRoute/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkudW5zaGlmdC5qcyI7CmltcG9ydCBDYW52YXNDb21wIGZyb20gIi4vQ2FudmFzQ29tcC52dWUiOwppbXBvcnQgUHJvdG9uIGZyb20gInByb3Rvbi1lbmdpbmUiOwppbXBvcnQgUkFGTWFuYWdlciBmcm9tICJyYWYtbWFuYWdlciI7CmltcG9ydCB7IGdldENvbG9yIH0gZnJvbSAiLi4vdXRpbHMvQ29sb3IiOwpjb25zdCBjb2xvcnMgPSBbIiNmYWQzOTAiLCAiIzgxZWNlYyIsICIjZmZmZmZmIiwgIiNiYWRjNTgiLCAiI2Y5Y2EyNCIsICIjRkVBNDdGIl07CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiVGFkcG9sZVBhcnRpY2xlcyIsCiAgY29tcG9uZW50czogewogICAgQ2FudmFzQ29tcAogIH0sCiAgcHJvcHM6IHsKICAgIGNhbnZhczogT2JqZWN0LAogICAgYmc6IEJvb2xlYW4sCiAgICBjb2xvcjogU3RyaW5nLAogICAgbnVtOiBOdW1iZXIsCiAgICBjb25maWc6IHt9CiAgfSwKICBtZXRob2RzOiB7CiAgICBjYW52YXNJbml0ZWQoY2FudmFzKSB7CiAgICAgIHRoaXMuY3JlYXRlUHJvdG9uKGNhbnZhcyk7CiAgICAgIFJBRk1hbmFnZXIuYWRkKHRoaXMucmVuZGVyUHJvdG9uKTsKICAgIH0sCiAgICBjYW52YXNSZXNpemUoewogICAgICB3aWR0aCwKICAgICAgaGVpZ2h0CiAgICB9KSB7CiAgICAgIHRoaXMuY3Jvc3Nab25lQmVoYXZpb3VyLnpvbmUud2lkdGggPSB3aWR0aDsKICAgICAgdGhpcy5jcm9zc1pvbmVCZWhhdmlvdXIuem9uZS5oZWlnaHQgPSBoZWlnaHQ7CiAgICAgIHRoaXMucHJvdG9uLnJlbmRlcmVyc1swXS5yZXNpemUod2lkdGgsIGhlaWdodCk7CiAgICB9LAogICAgY2FudmFzTW91c2VEb3duKGUpIHt9LAogICAgY3JlYXRlUHJvdG9uKGNhbnZhcykgewogICAgICBjb25zdCB3aWR0aCA9IGNhbnZhcy53aWR0aDsKICAgICAgY29uc3QgaGVpZ2h0ID0gY2FudmFzLmhlaWdodDsKICAgICAgdGhpcy5wcm90b24gPSBuZXcgUHJvdG9uKCk7CiAgICAgIGNvbnN0IGVtaXR0ZXIgPSBuZXcgUHJvdG9uLkVtaXR0ZXIoKTsKICAgICAgZW1pdHRlci5kYW1waW5nID0gMC4wMDg7CiAgICAgIGVtaXR0ZXIucmF0ZSA9IG5ldyBQcm90b24uUmF0ZSh0aGlzLm51bSA/IHRoaXMubnVtIDogNTApOwogICAgICBlbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5NYXNzKDEpKTsKICAgICAgZW1pdHRlci5hZGRJbml0aWFsaXplKG5ldyBQcm90b24uUmFkaXVzKDUsIDkpKTsKICAgICAgZW1pdHRlci5hZGRJbml0aWFsaXplKG5ldyBQcm90b24uVmVsb2NpdHkobmV3IFByb3Rvbi5TcGFuKDEuNSksIG5ldyBQcm90b24uU3BhbigwLCAzNjApLCAicG9sYXIiKSk7CiAgICAgIGVtaXR0ZXIuYWRkSW5pdGlhbGl6ZShuZXcgUHJvdG9uLlBvc2l0aW9uKG5ldyBQcm90b24uUmVjdFpvbmUoMCwgMCwgd2lkdGgsIGhlaWdodCkpKTsKICAgICAgY29uc3QgbW91c2VJbmZvID0gewogICAgICAgIHg6IHdpZHRoIC8gMiwKICAgICAgICB5OiBoZWlnaHQgLyAyCiAgICAgIH07CiAgICAgIGNvbnN0IGF0dHJhY3Rpb25CZWhhdmlvdXIgPSBuZXcgUHJvdG9uLkF0dHJhY3Rpb24obW91c2VJbmZvLCAwLCAwKTsKICAgICAgY29uc3QgY3Jvc3Nab25lQmVoYXZpb3VyID0gbmV3IFByb3Rvbi5Dcm9zc1pvbmUobmV3IFByb3Rvbi5SZWN0Wm9uZSgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpLCAiYm91bmQiKTsKICAgICAgZW1pdHRlci5hZGRCZWhhdmlvdXIobmV3IFByb3Rvbi5Db2xvcih0aGlzLmNvbG9yIHx8ICIjYmJiYmJiIikpOwogICAgICAvL2VtaXR0ZXIuYWRkQmVoYXZpb3VyKG5ldyBQcm90b24uQWxwaGEobmV3IFByb3Rvbi5TcGFuKDAuNSwgMSkpKTsKICAgICAgZW1pdHRlci5hZGRCZWhhdmlvdXIoYXR0cmFjdGlvbkJlaGF2aW91ciwgY3Jvc3Nab25lQmVoYXZpb3VyKTsKICAgICAgZW1pdHRlci5hZGRCZWhhdmlvdXIobmV3IFByb3Rvbi5SYW5kb21EcmlmdCgxNSwgMTUsIDAuMDUpKTsKICAgICAgZW1pdHRlci5lbWl0KCJvbmNlIik7CiAgICAgIHRoaXMucHJvdG9uLmFkZEVtaXR0ZXIoZW1pdHRlcik7CiAgICAgIHRoaXMucHJvdG9uLmFkZFJlbmRlcmVyKHRoaXMuY3JlYXRlUmVuZGVyZXIoY2FudmFzKSk7CiAgICAgIHRoaXMuY3Jvc3Nab25lQmVoYXZpb3VyID0gY3Jvc3Nab25lQmVoYXZpb3VyOwogICAgfSwKICAgIGNyZWF0ZVJlbmRlcmVyKGNhbnZhcykgewogICAgICBjb25zdCBqb2ludENvdW50ID0gMTI7CiAgICAgIGNvbnN0IGRlbGF5VGltZSA9IDY7CiAgICAgIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY29uc3QgcmVuZGVyZXIgPSBuZXcgUHJvdG9uLkNhbnZhc1JlbmRlcmVyKGNhbnZhcyk7CiAgICAgIHJlbmRlcmVyLm9uUHJvdG9uVXBkYXRlID0gZnVuY3Rpb24gKCkgewogICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7CiAgICAgIH07CiAgICAgIHJlbmRlcmVyLm9uUGFydGljbGVDcmVhdGVkID0gcGFydGljbGUgPT4gewogICAgICAgIHBhcnRpY2xlLmRhdGEucG9pbnRzID0gW107CiAgICAgICAgcGFydGljbGUuZGF0YS5pbmRleCA9IDA7CiAgICAgIH07CiAgICAgIHJlbmRlcmVyLm9uUGFydGljbGVVcGRhdGUgPSBmdW5jdGlvbiAocGFydGljbGUpIHsKICAgICAgICBkcmF3VGFkcG9sZVRhaWwocGFydGljbGUpOwogICAgICAgIGlmIChwYXJ0aWNsZS5kYXRhLmluZGV4ICUgZGVsYXlUaW1lID09PSAwKSBmaWxsUG9pbnRzRGF0YShwYXJ0aWNsZSk7CiAgICAgICAgZHJhd1RhZHBvbGVIZWFkKHBhcnRpY2xlKTsKICAgICAgICBwYXJ0aWNsZS5kYXRhLmluZGV4Kys7CiAgICAgIH07CiAgICAgIGNvbnN0IGZpbGxQb2ludHNEYXRhID0gcGFydGljbGUgPT4gewogICAgICAgIHBhcnRpY2xlLmRhdGEucG9pbnRzLnVuc2hpZnQocGFydGljbGUucC55KTsKICAgICAgICBwYXJ0aWNsZS5kYXRhLnBvaW50cy51bnNoaWZ0KHBhcnRpY2xlLnAueCk7CiAgICAgICAgaWYgKHBhcnRpY2xlLmRhdGEucG9pbnRzLmxlbmd0aCA+IGpvaW50Q291bnQpIHsKICAgICAgICAgIHBhcnRpY2xlLmRhdGEucG9pbnRzLnBvcCgpOwogICAgICAgICAgcGFydGljbGUuZGF0YS5wb2ludHMucG9wKCk7CiAgICAgICAgfQogICAgICB9OwogICAgICBjb25zdCBkcmF3VGFkcG9sZUhlYWQgPSBwYXJ0aWNsZSA9PiB7CiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBwYXJ0aWNsZS5jb2xvcjsKICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpOwogICAgICAgIGNvbnRleHQuYXJjKHBhcnRpY2xlLnAueCwgcGFydGljbGUucC55LCBwYXJ0aWNsZS5yYWRpdXMsIDAsIE1hdGguUEkgKiAyLCB0cnVlKTsKICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpOwogICAgICAgIGNvbnRleHQuZmlsbCgpOwogICAgICB9OwogICAgICBjb25zdCBkcmF3VGFkcG9sZVRhaWwgPSBwYXJ0aWNsZSA9PiB7CiAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTsKICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gcGFydGljbGUuY29sb3I7CiAgICAgICAgY29udGV4dC5tb3ZlVG8ocGFydGljbGUucC54LCBwYXJ0aWNsZS5wLnkpOwogICAgICAgIGNvbnN0IGwgPSBwYXJ0aWNsZS5kYXRhLnBvaW50cy5sZW5ndGg7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsOyBpICs9IDIpIHsKICAgICAgICAgIGNvbnN0IHggPSBwYXJ0aWNsZS5kYXRhLnBvaW50c1tpXTsKICAgICAgICAgIGNvbnN0IHkgPSBwYXJ0aWNsZS5kYXRhLnBvaW50c1tpICsgMV07CiAgICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IGxpbmVhckV2YWx1YXRpb24oaSwgbCk7CiAgICAgICAgICBjb250ZXh0LmxpbmVUbyh4LCB5KTsKICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7CiAgICAgICAgfQogICAgICB9OwogICAgICBjb25zdCBsaW5lYXJFdmFsdWF0aW9uID0gKGksIGwpID0+IHsKICAgICAgICBpZiAobCA8PSAyKSByZXR1cm4gMTsKICAgICAgICBjb25zdCBtYXggPSA2OwogICAgICAgIGNvbnN0IEEgPSAobWF4IC0gMSkgLyAoMiAvIGwgLSAxKTsKICAgICAgICBjb25zdCBCID0gMSAtIEE7CiAgICAgICAgY29uc3QgWCA9IChpICsgMikgLyBsOwogICAgICAgIGxldCB2YWwgPSBBICogWCArIEI7CiAgICAgICAgdmFsID0gdmFsID4+IDA7CiAgICAgICAgcmV0dXJuIHZhbDsKICAgICAgfTsKICAgICAgcmV0dXJuIHJlbmRlcmVyOwogICAgfSwKICAgIHJlbmRlclByb3RvbigpIHsKICAgICAgdGhpcy5wcm90b24gJiYgdGhpcy5wcm90b24udXBkYXRlKCk7CiAgICB9CiAgfSwKICBiZWZvcmVEZXN0cm95KCkgewogICAgdHJ5IHsKICAgICAgdGhpcy5wcm90b24uZGVzdHJveSgpOwogICAgICBSQUZNYW5hZ2VyLnJlbW92ZSh0aGlzLnJlbmRlclByb3Rvbik7CiAgICB9IGNhdGNoIChlKSB7fQogIH0KfTs="},{"version":3,"mappings":";AAYA;AACA;AACA;AACA;AAEA,gBACA,WACA,WACA,WACA,WACA,WACA,UACA;AACA;EACAA;EACAC;IACAC;EACA;EACAC;IACAC;IACAC;IACAC;IACAC;IACAC;EACA;EACAC;IACAC;MACA;MACAC;IACA;IACAC;MAAAC;MAAAC;IAAA;MACA;MACA;MACA;IACA;IACAC;IAEAC;MACA;MACA;MACA;MAEA;MACAC;MACAA;MACAA;MACAA;MACAA,sBACA,oBACA,sBACA,yBACA,QACA,CACA;MACAA,sBACA,8DACA;MAEA;QACAC;QACAC;MACA;MAEA;MACA,gDACA,wDACA,QACA;MACAF;MACA;MACAA;MACAA;MACAA;MAEA;MACA;MACA;IACA;IACAG;MACA;MACA;MACA;MACA;MAEAC;QACAC;MACA;MAEAD;QACAE;QACAA;MACA;MAEAF;QACAG;QACA;QACAC;QACAF;MACA;MAEA;QACAA;QACAA;QAEA;UACAA;UACAA;QACA;MACA;MAEA;QACAD;QACAA;QACAA,YACAC,cACAA,cACAA,iBACA,GACAG,aACA,KACA;QACAJ;QACAA;MACA;MAEA;QACAA;QACAA;QAEAA;QAEA;QACA;UACA;UACA;UAEAA;UACAA;UACAA;QACA;MACA;MAEA;QACA;QAEA;QACA;QACA;QACA;QACA;QACAK;QAEA;MACA;MAEA;IACA;IACAC;MACA;IACA;EACA;EACAC;IACA;MACA;MACAlB;IACA;EACA;AACA","names":["name","components","CanvasComp","props","canvas","bg","color","num","config","methods","canvasInited","RAFManager","canvasResize","width","height","canvasMouseDown","createProton","emitter","x","y","createRenderer","renderer","context","particle","drawTadpoleTail","drawTadpoleHead","Math","val","renderProton","beforeDestroy"],"sourceRoot":"node_modules/particles-bg-vue/src/particles-bg/particles","sources":["TadpoleParticles.vue"],"sourcesContent":["<template>\n  <canvas-comp\n    :bg=\"bg\"\n    :canvas=\"canvas\"\n    global-composite-operation=\"xor\"\n    v-on:canvasInited=\"canvasInited\"\n    v-on:canvasResize=\"canvasResize\"\n    v-on:canvasMouseDown=\"canvasMouseDown\"\n  />\n</template>\n\n<script>\nimport CanvasComp from \"./CanvasComp.vue\";\nimport Proton from \"proton-engine\";\nimport RAFManager from \"raf-manager\";\nimport { getColor } from \"../utils/Color\";\n\nconst colors = [\n  \"#fad390\",\n  \"#81ecec\",\n  \"#ffffff\",\n  \"#badc58\",\n  \"#f9ca24\",\n  \"#FEA47F\"\n];\nexport default {\n  name: \"TadpoleParticles\",\n  components: {\n    CanvasComp\n  },\n  props: {\n    canvas: Object,\n    bg: Boolean,\n    color: String,\n    num: Number,\n    config: {}\n  },\n  methods: {\n    canvasInited(canvas) {\n      this.createProton(canvas);\n      RAFManager.add(this.renderProton);\n    },\n    canvasResize({ width, height }) {\n      this.crossZoneBehaviour.zone.width = width;\n      this.crossZoneBehaviour.zone.height = height;\n      this.proton.renderers[0].resize(width, height);\n    },\n    canvasMouseDown(e) {},\n\n    createProton(canvas) {\n      const width = canvas.width;\n      const height = canvas.height;\n      this.proton = new Proton();\n\n      const emitter = new Proton.Emitter();\n      emitter.damping = 0.008;\n      emitter.rate = new Proton.Rate(this.num ? this.num : 50);\n      emitter.addInitialize(new Proton.Mass(1));\n      emitter.addInitialize(new Proton.Radius(5, 9));\n      emitter.addInitialize(\n        new Proton.Velocity(\n          new Proton.Span(1.5),\n          new Proton.Span(0, 360),\n          \"polar\"\n        )\n      );\n      emitter.addInitialize(\n        new Proton.Position(new Proton.RectZone(0, 0, width, height))\n      );\n\n      const mouseInfo = {\n        x: width / 2,\n        y: height / 2\n      };\n\n      const attractionBehaviour = new Proton.Attraction(mouseInfo, 0, 0);\n      const crossZoneBehaviour = new Proton.CrossZone(\n        new Proton.RectZone(0, 0, canvas.width, canvas.height),\n        \"bound\"\n      );\n      emitter.addBehaviour(new Proton.Color(this.color || \"#bbbbbb\"));\n      //emitter.addBehaviour(new Proton.Alpha(new Proton.Span(0.5, 1)));\n      emitter.addBehaviour(attractionBehaviour, crossZoneBehaviour);\n      emitter.addBehaviour(new Proton.RandomDrift(15, 15, 0.05));\n      emitter.emit(\"once\");\n\n      this.proton.addEmitter(emitter);\n      this.proton.addRenderer(this.createRenderer(canvas));\n      this.crossZoneBehaviour = crossZoneBehaviour;\n    },\n    createRenderer(canvas) {\n      const jointCount = 12;\n      const delayTime = 6;\n      const context = canvas.getContext(\"2d\");\n      const renderer = new Proton.CanvasRenderer(canvas);\n\n      renderer.onProtonUpdate = function() {\n        context.clearRect(0, 0, canvas.width, canvas.height);\n      };\n\n      renderer.onParticleCreated = particle => {\n        particle.data.points = [];\n        particle.data.index = 0;\n      };\n\n      renderer.onParticleUpdate = function(particle) {\n        drawTadpoleTail(particle);\n        if (particle.data.index % delayTime === 0) fillPointsData(particle);\n        drawTadpoleHead(particle);\n        particle.data.index++;\n      };\n\n      const fillPointsData = particle => {\n        particle.data.points.unshift(particle.p.y);\n        particle.data.points.unshift(particle.p.x);\n\n        if (particle.data.points.length > jointCount) {\n          particle.data.points.pop();\n          particle.data.points.pop();\n        }\n      };\n\n      const drawTadpoleHead = particle => {\n        context.fillStyle = particle.color;\n        context.beginPath();\n        context.arc(\n          particle.p.x,\n          particle.p.y,\n          particle.radius,\n          0,\n          Math.PI * 2,\n          true\n        );\n        context.closePath();\n        context.fill();\n      };\n\n      const drawTadpoleTail = particle => {\n        context.beginPath();\n        context.strokeStyle = particle.color;\n\n        context.moveTo(particle.p.x, particle.p.y);\n\n        const l = particle.data.points.length;\n        for (let i = 0; i < l; i += 2) {\n          const x = particle.data.points[i];\n          const y = particle.data.points[i + 1];\n\n          context.lineWidth = linearEvaluation(i, l);\n          context.lineTo(x, y);\n          context.stroke();\n        }\n      };\n\n      const linearEvaluation = (i, l) => {\n        if (l <= 2) return 1;\n\n        const max = 6;\n        const A = (max - 1) / (2 / l - 1);\n        const B = 1 - A;\n        const X = (i + 2) / l;\n        let val = A * X + B;\n        val = val >> 0;\n\n        return val;\n      };\n\n      return renderer;\n    },\n    renderProton() {\n      this.proton && this.proton.update();\n    }\n  },\n  beforeDestroy() {\n    try {\n      this.proton.destroy();\n      RAFManager.remove(this.renderProton);\n    } catch (e) {}\n  }\n};\n</script>\n"]}]}